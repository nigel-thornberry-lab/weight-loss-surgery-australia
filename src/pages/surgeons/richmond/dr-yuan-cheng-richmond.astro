---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import CredentialsSection from '../../../components/surgeons/CredentialsSection.astro';
import FAQSection from '../../../components/surgeons/FAQSection.astro';
import TeamSection from '../../../components/surgeons/TeamSection.astro';
import HospitalsSection from '../../../components/surgeons/HospitalsSection.astro';
import PricingSection from '../../../components/surgeons/PricingSection.astro';

const surgeon = {
  "name": "Dr. Yuan Cheng",
  "city": "Richmond",
  "state": "Victoria",
  "phone": "+61 3 9421 1166",
  "website": "http://www.obesity.com.au/",
  "category": "Bariatric surgeon",
  "google_maps_url": "https://www.google.com/maps/search/?api=1&query=Dr.%20Yuan%20Cheng&query_place_id=ChIJVVXl1cRC1moRniqUZ6Yf3qI",
  "years_experience": "10",
  "estimated_procedures": "2000",
  "slug": "dr-yuan-cheng-richmond",
  "bio_long": "Dr. Yuan Cheng is a leading bariatric surgeon in Richmond; Victoria; known for significant expertise in weight loss surgery. With a 5.0-star rating from 72+ patient reviews; they've built a reputation for exceptional patient outcomes and comprehensive surgical care. Specializing in gastric sleeve; bypass; and band procedures; Dr. Yuan Cheng offers personalized treatment plans backed by 10+ years of surgical experience.",
  "surgeon_photo": "http://www.obesity.com.au/images/dr-yuan.png",
  "rating": 5,
  "review_count": 72
};
const citySlug = "richmond";
const slug = "dr-yuan-cheng-richmond";
const enhanced = {
  "surgeon_name": "Dr. Yuan Cheng",
  "city": "Richmond",
  "state": "Victoria",
  "credentials": {
    "medical_school": "University of Melbourne (graduated 2004)",
    "fellowships": [
      "Fellowship of the Royal Australasian College of Surgeons (FRACS) in General Surgery (2015)",
      "Inaugural Bariatric Surgery Fellow, Box Hill Hospital",
      "Overseas bariatric surgery fellowship with Dr B. Dillemans, Belgium"
    ],
    "professional_memberships": [
      "General Surgeons Australia (GSA)",
      "Australian and New Zealand Metabolic and Obesity Surgery Society (ANZMOSS)",
      "International Federation for the Surgery of Obesity and Metabolic Disorders (IFSO)"
    ],
    "special_training": [
      "Extensive subspecialty bariatric surgery training in Australia and Belgium",
      "Advanced laparoscopic surgical techniques"
    ],
    "years_practicing": 11
  },
  "team": {
    "surgeons": [
      {
        "name": "Dr. Yuan Cheng",
        "role": "Principal Bariatric and General Surgeon"
      }
    ],
    "team_size": "Multidisciplinary allied health team",
    "has_dietitian": true,
    "has_psychologist": true,
    "has_nurses": true
  },
  "services": {
    "procedures": [
      "Sleeve gastrectomy",
      "Roux-en-Y gastric bypass",
      "Mini gastric bypass",
      "Adjustable gastric band (Lapband)",
      "Revision bariatric surgeries",
      "Intragastric Balloon (Orbera)",
      "Laparoscopic gallbladder surgery",
      "Laparoscopic hernia repairs"
    ],
    "pre_op_program": "Multidisciplinary assessment and preparation with dietitian and psychologist",
    "post_op_program": "Structured follow-up care with surgeon and allied health team",
    "follow_up_duration": "Ongoing long-term follow-up",
    "telehealth": true,
    "support_groups": true
  },
  "hospitals": [
    {
      "name": "Epworth Eastern Hospital",
      "address": "Suite 62, Level 6, 1 Arnold Street, Box Hill, VIC 3128"
    },
    {
      "name": "Epworth Freemasons Hospital",
      "address": "Level 1, 124 Grey Street, East Melbourne, VIC 3002"
    },
    {
      "name": "Knox Private Hospital",
      "address": "221 Scoresby Road, Wantirna, VIC 3152"
    },
    {
      "name": "Holmesglen Private Hospital",
      "address": "490 South Road, Moorabbin, VIC 3189"
    },
    {
      "name": "St Vincent's Private Hospital",
      "address": "41 Victoria Parade, Fitzroy, VIC 3065"
    },
    {
      "name": "Box Hill Hospital",
      "address": "Arnold Street, Box Hill, VIC 3128"
    }
  ],
  "pricing": {
    "available": false,
    "gastric_sleeve": "Contact for pricing",
    "gastric_bypass": "Contact for pricing",
    "consultation": "Contact for pricing"
  },
  "unique_features": [
    "International fellowship under Dr B. Dillemans, world leader in gastric bypass",
    "Focus on complex revision bariatric surgeries",
    "Telehealth consultation services available",
    "Support for non-English speakers (Mandarin)",
    "Inaugural Bariatric Surgery Fellow at Box Hill Hospital",
    "Operates at 6 major hospitals across Melbourne"
  ],
  "faqs": [
    {
      "question": "What procedures does Dr Yuan Cheng specialize in?",
      "answer": "Dr Yuan Cheng specializes in sleeve gastrectomy, Roux-en-Y gastric bypass, mini gastric bypass, adjustable gastric banding, intragastric balloon placement, and complex revision bariatric surgeries."
    },
    {
      "question": "What are Dr Yuan Cheng's qualifications?",
      "answer": "Dr Yuan Cheng holds an MBBS from University of Melbourne, is a Fellow of the Royal Australasian College of Surgeons (FRACS) in General Surgery, completed an inaugural Bariatric Surgery Fellowship at Box Hill Hospital, and undertook advanced bariatric surgery training in Belgium under Dr. B. Dillemans."
    },
    {
      "question": "Where does Dr Yuan Cheng perform surgery?",
      "answer": "Dr Cheng operates at Epworth Eastern Hospital, Epworth Freemasons Hospital, Knox Private Hospital, Holmesglen Private Hospital, St Vincent's Private Hospital, and Box Hill Hospital in Victoria, Australia."
    }
  ]
};
const seo = {
  "credentials": {
    "medical_school": "University of Melbourne (graduated 2004)",
    "fellowships": [
      "Fellowship of the Royal Australasian College of Surgeons (FRACS) in General Surgery (2015)",
      "Inaugural Bariatric Surgery Fellow, Box Hill Hospital",
      "Overseas bariatric surgery fellowship with Dr B. Dillemans, Belgium"
    ],
    "professional_memberships": [
      "General Surgeons Australia (GSA)",
      "Australian and New Zealand Metabolic and Obesity Surgery Society (ANZMOSS)",
      "International Federation for the Surgery of Obesity and Metabolic Disorders (IFSO)"
    ],
    "special_training": [
      "Extensive subspecialty bariatric surgery training in Australia and Belgium",
      "Advanced laparoscopic surgical techniques"
    ],
    "years_practicing": 11
  },
  "faqs": [
    {
      "question": "What procedures does Dr Yuan Cheng specialize in?",
      "answer": "Dr Yuan Cheng specializes in sleeve gastrectomy, Roux-en-Y gastric bypass, mini gastric bypass, adjustable gastric banding, intragastric balloon placement, and complex revision bariatric surgeries."
    },
    {
      "question": "What are Dr Yuan Cheng's qualifications?",
      "answer": "Dr Yuan Cheng holds an MBBS from University of Melbourne, is a Fellow of the Royal Australasian College of Surgeons (FRACS) in General Surgery, completed an inaugural Bariatric Surgery Fellowship at Box Hill Hospital, and undertook advanced bariatric surgery training in Belgium under Dr. B. Dillemans."
    },
    {
      "question": "Where does Dr Yuan Cheng perform surgery?",
      "answer": "Dr Cheng operates at Epworth Eastern Hospital, Epworth Freemasons Hospital, Knox Private Hospital, Holmesglen Private Hospital, St Vincent's Private Hospital, and Box Hill Hospital in Victoria, Australia."
    }
  ]
};

// Extract clean name (remove title/role if present)
const cleanName = surgeon.name.split('|')[0].split('-')[0].trim();

const title = `${cleanName} - Bariatric Surgeon ${surgeon.city}, ${surgeon.state}`;
const description = `Top-rated bariatric surgeon in ${surgeon.city} (${surgeon.rating}‚òÖ, ${surgeon.review_count} reviews). Gastric sleeve, bypass & revision. Serving ${surgeon.state}. Book consultation today.`;
const canonicalUrl = `https://weightlosssurgery.com.au/surgeons/${citySlug}/${slug}`;
---

<BaseLayout title={title} description={description} canonicalUrl={canonicalUrl}>
  <main class="min-h-screen bg-gray-50">
    <nav class="bg-white border-b border-gray-200 py-3">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex items-center space-x-2 text-sm">
          <a href="/" class="text-blue-600 hover:text-blue-800">Home</a>
          <span class="text-gray-400">/</span>
          <a href="/surgeons" class="text-blue-600 hover:text-blue-800">Surgeons</a>
          <span class="text-gray-400">/</span>
          <a href={`/surgeons/${citySlug}`} class="text-blue-600 hover:text-blue-800">{surgeon.city}</a>
          <span class="text-gray-400">/</span>
          <span class="text-gray-700">{surgeon.name}</span>
        </div>
      </div>
    </nav>

    <!-- Hero Section - Clean Compact Layout -->
    <section class="bg-white py-8">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid md:grid-cols-[280px_1fr] gap-8">
          
          <!-- Left Sidebar: Photo + Rating + CTAs -->
          <div class="space-y-4">
            <!-- Surgeon Photo -->
            {surgeon.surgeon_photo ? (
              <img src={surgeon.surgeon_photo} alt={surgeon.name} class="w-full rounded-xl shadow-lg" loading="eager" />
            ) : (
              <div class="bg-gradient-to-br from-blue-600 to-blue-800 rounded-xl shadow-lg aspect-[3/4] flex items-center justify-center">
                <div class="text-center text-white p-6">
                  <svg class="w-20 h-20 mx-auto mb-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"/>
                  </svg>
                  <p class="text-xs font-semibold uppercase tracking-wide">Experience</p>
                  <p class="text-xs uppercase tracking-wide">Precision</p>
                  <p class="text-xs uppercase tracking-wide">Results</p>
                </div>
              </div>
            )}

            <!-- Rating Tile -->
            <div class="bg-white rounded-lg p-4 shadow-md border border-gray-200">
              <div class="text-center">
                <p class="text-sm text-gray-600 mb-1">Rating</p>
                {surgeon.rating > 0 ? (
                  <>
                    <div class="flex items-center justify-center gap-1 mb-1">
                      <span class="text-2xl">‚≠ê</span>
                      <span class="text-2xl font-bold text-gray-900">{surgeon.rating}</span>
                    </div>
                    <p class="text-sm text-gray-600">{surgeon.review_count} reviews</p>
                  </>
                ) : (
                  <>
                    <div class="flex items-center justify-center gap-1 mb-1">
                      <span class="text-2xl">‚≠ê</span>
                      <span class="text-lg font-bold text-gray-900">New</span>
                    </div>
                    <p class="text-sm text-gray-600">0 reviews</p>
                  </>
                )}
              </div>
              <div class="mt-3 pt-3 border-t border-gray-200">
                <p class="text-xs text-gray-600 text-center">Experience</p>
                <p class="text-lg font-bold text-gray-900 text-center">{surgeon.years_experience}+ years</p>
              </div>
            </div>

            <!-- CTA Buttons -->
            {surgeon.website && (
              <a href={surgeon.website} target="_blank" rel="noopener" class="block w-full bg-blue-600 text-white text-center px-4 py-3 rounded-lg text-sm font-semibold hover:bg-blue-700 transition-colors shadow-md">
                Visit Website
              </a>
            )}
            {surgeon.google_maps_url && (
              <a href={surgeon.google_maps_url} target="_blank" rel="noopener" class="block w-full bg-green-600 text-white text-center px-4 py-3 rounded-lg text-sm font-semibold hover:bg-green-700 transition-colors shadow-md">
                View on Google Maps
              </a>
            )}
            {surgeon.phone && (
              <a href={`tel:${surgeon.phone}`} class="block w-full bg-gray-800 text-white text-center px-4 py-3 rounded-lg text-sm font-semibold hover:bg-gray-900 transition-colors shadow-md">
                üìû Call Now
              </a>
            )}
          </div>

          <!-- Right: Main Info -->
          <div class="space-y-6">
            <!-- Header -->
            <div>
              <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-2">{cleanName}</h1>
              <p class="text-lg text-gray-600 mb-4">{surgeon.category}</p>
              
              <!-- Info Tiles - Smaller & More Rounded -->
              <div class="grid grid-cols-3 gap-2 mb-4">
                <div class="bg-blue-50 rounded-xl p-2 text-center">
                  <svg class="w-4 h-4 mx-auto mb-0.5 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"/>
                  </svg>
                  <p class="text-[10px] font-semibold text-gray-700">{surgeon.city}, {surgeon.state}</p>
                </div>
                
                <div class="bg-purple-50 rounded-xl p-2 text-center">
                  <svg class="w-4 h-4 mx-auto mb-0.5 text-purple-600" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0zM6 18a1 1 0 001-1v-2.065a8.935 8.935 0 00-2-.712V17a1 1 0 001 1z"/>
                  </svg>
                  <p class="text-[10px] font-semibold text-gray-700">{enhanced.credentials?.fellowships?.[0]?.replace('Royal Australasian College of Surgeons', 'FRACS') || 'MBBS, FRACS'}</p>
                </div>

                <div class="bg-green-50 rounded-xl p-2 text-center">
                  <svg class="w-4 h-4 mx-auto mb-0.5 text-green-600" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                  </svg>
                  <p class="text-[10px] font-semibold text-gray-700">{surgeon.estimated_procedures}+ Procedures</p>
                </div>
              </div>
            </div>

            <!-- About -->
            <div class="bg-gray-50 rounded-lg p-5">
              <h2 class="text-xl font-bold text-gray-900 mb-3">About {cleanName}</h2>
              <p class="text-gray-700 leading-relaxed">{surgeon.bio_long.replace(surgeon.name, cleanName)}</p>
            </div>

            <!-- Procedures - With Shaded Background -->
            <div class="bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg p-5 shadow-sm border border-blue-100">
              <h3 class="text-lg font-bold text-gray-900 mb-3">Procedures Offered</h3>
              <div class="grid grid-cols-1 md:grid-cols-3 gap-2">
                <div class="bg-white rounded-lg p-3 flex items-center gap-2 text-gray-700 shadow-sm">
                  <svg class="w-5 h-5 text-blue-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                  <span class="font-semibold text-sm">Gastric Sleeve</span>
                </div>
                <div class="bg-white rounded-lg p-3 flex items-center gap-2 text-gray-700 shadow-sm">
                  <svg class="w-5 h-5 text-blue-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                  <span class="font-semibold text-sm">Gastric Bypass</span>
                </div>
                <div class="bg-white rounded-lg p-3 flex items-center gap-2 text-gray-700 shadow-sm">
                  <svg class="w-5 h-5 text-blue-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                  </svg>
                  <span class="font-semibold text-sm">Gastric Band</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Enhanced Content Sections -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="space-y-6">
        {enhanced.credentials && <CredentialsSection credentials={enhanced.credentials} />}
        {enhanced.team && <TeamSection team={enhanced.team} />}
        {enhanced.hospitals && <HospitalsSection hospitals={enhanced.hospitals} />}
        {enhanced.pricing && <PricingSection pricing={enhanced.pricing} />}
        {seo.faqs && seo.faqs.length > 0 && <FAQSection faqs={seo.faqs} />}
      </div>
    </div>
  </main>
</BaseLayout>
