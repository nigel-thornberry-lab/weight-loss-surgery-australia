---
/**
 * Surgeon CTA (Call-to-Action) Component
 * 
 * Conversion-focused section with:
 * - Eye-catching gradient background
 * - Compelling heading and subheading
 * - Two primary CTAs (Book & Call)
 * - Trust indicators
 */

interface Props {
  surgeon: {
    surgeon_name: string;
    business_name: string;
    phone: string;
    rating: number;
    review_count: number;
    years_experience: number;
  };
}

const { surgeon } = Astro.props;

const displayName = surgeon?.surgeon_name || surgeon?.business_name || surgeon?.name || 'the surgeon';
---

<section id="consultation" class="relative py-20 overflow-hidden">
  
  <!-- Gradient Background -->
  <div class="absolute inset-0 bg-[#6c95ef]"></div>
  
  <!-- Pattern Overlay -->
  <div class="absolute inset-0 bg-[url('/patterns/grid.svg')] opacity-10"></div>
  
  <!-- Animated Blobs -->
  <div class="absolute top-0 left-0 w-96 h-96 bg-blue-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
  <div class="absolute top-0 right-0 w-96 h-96 bg-purple-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>
  <div class="absolute bottom-0 left-1/2 w-96 h-96 bg-pink-400 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"></div>
  
  <!-- Content -->
  <div class="relative max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
    
    <!-- Badge -->
    <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full text-white mb-8">
      <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
        <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
      </svg>
      <span class="font-bold">{surgeon?.rating || 0} Stars</span>
      <span class="text-blue-200">â€¢</span>
      <span class="text-blue-200">{surgeon?.review_count || surgeon?.reviewCount || 0} Reviews</span>
    </div>
    
    <!-- Main Heading -->
    <h2 class="text-4xl lg:text-5xl xl:text-6xl font-bold text-white mb-6 leading-tight">
      Ready to Start Your<br class="hidden sm:block"/>
      Weight Loss Journey?
    </h2>
    
    <!-- Subheading -->
    <p class="text-xl lg:text-2xl text-blue-100 mb-12 max-w-3xl mx-auto leading-relaxed">
      Book a free consultation with {displayName} to discuss your goals and discover which procedure is right for you.
    </p>
    
    <!-- CTA Buttons -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-12">
      
      <!-- Primary CTA: Book Consultation -->
      <a 
        href="#consultation-form"
        class="group relative inline-flex items-center justify-center px-8 py-5 text-lg lg:text-xl font-bold text-[#6c95ef] bg-white rounded-2xl hover:bg-gray-50 transition-all duration-200 shadow-2xl hover:shadow-3xl hover:scale-105 w-full sm:w-auto"
      >
        <svg class="w-7 h-7 mr-3" fill="currentColor" viewBox="0 0 20 20">
          <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>
          <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>
        </svg>
        Book Free Consultation
        <svg class="w-6 h-6 ml-3 group-hover:translate-x-1 transition-transform" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
        </svg>
      </a>
      
      <!-- Secondary CTA: Call Now -->
      <a 
        href={`tel:${surgeon?.phone || ''}`}
        class="group relative inline-flex items-center justify-center px-8 py-5 text-lg lg:text-xl font-bold text-white border-3 border-white rounded-2xl hover:bg-white hover:text-[#6c95ef] transition-all duration-200 shadow-xl hover:shadow-2xl w-full sm:w-auto"
      >
        <svg class="w-7 h-7 mr-3" fill="currentColor" viewBox="0 0 20 20">
          <path d="M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"/>
        </svg>
        Call Now
        <div class="ml-3 flex items-center">
          <span class="hidden lg:inline">{surgeon?.phone || ''}</span>
        </div>
      </a>
    </div>
    
    <!-- Trust Indicators -->
    <div class="grid sm:grid-cols-3 gap-6 max-w-4xl mx-auto">
      
      <!-- Free Consultation -->
      <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-white">
        <div class="w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm5 6a1 1 0 10-2 0v3.586l-1.293-1.293a1 1 0 10-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L11 11.586V8z" clip-rule="evenodd"/>
          </svg>
        </div>
        <h3 class="text-lg font-bold mb-2">Free Consultation</h3>
        <p class="text-blue-100 text-sm">No obligation, no pressure<br/>Just expert advice</p>
      </div>
      
      <!-- Same-Week Appointments -->
      <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-white">
        <div class="w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
          </svg>
        </div>
        <h3 class="text-lg font-bold mb-2">Quick Appointments</h3>
        <p class="text-blue-100 text-sm">Same-week consultations<br/>available</p>
      </div>
      
      <!-- Medicare Approved -->
      <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 text-white">
        <div class="w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
        </div>
        <h3 class="text-lg font-bold mb-2">Medicare Approved</h3>
        <p class="text-blue-100 text-sm">Rebates available for<br/>eligible patients</p>
      </div>
    </div>
    
    <!-- Additional Trust Elements -->
    <div class="mt-12 pt-8 border-t border-white/20">
      <div class="flex flex-wrap items-center justify-center gap-8 text-white">
        
        <div class="flex items-center gap-2">
          <svg class="w-6 h-6 text-green-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="font-semibold">AHPRA Verified</span>
        </div>
        
        <div class="flex items-center gap-2">
          <svg class="w-6 h-6 text-green-400" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="font-semibold">{surgeon?.years_experience || 0}+ Years Experience</span>
        </div>
        
        <div class="flex items-center gap-2">
          <svg class="w-6 h-6 text-green-400" fill="currentColor" viewBox="0 0 20 20">
            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
          </svg>
          <span class="font-semibold">{surgeon?.rating || 0}/5 Rating</span>
        </div>
      </div>
    </div>
    
    <!-- Privacy Notice -->
    <p class="mt-8 text-sm text-blue-200">
      ðŸ”’ Your information is kept private and secure. We'll never share your details with third parties.
    </p>
  </div>
</section>

<!-- Add animation keyframes -->
<style>
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }
  
  .animate-blob {
    animation: blob 7s infinite;
  }
  
  .animation-delay-2000 {
    animation-delay: 2s;
  }
  
  .animation-delay-4000 {
    animation-delay: 4s;
  }
</style>
